# قاعدة البيانات - NCTU SIS

## إعداد قاعدة البيانات

### 1. إنشاء قاعدة البيانات

```bash
mysql -u root -p < mysql_create.sql
```

هذا الأمر سينشئ:
- قاعدة البيانات `nctu_sis`
- جميع الجداول المطلوبة
- الفهارس والعلاقات

### 2. إدخال البيانات التجريبية

```bash
mysql -u root -p < seed_data.sql
```

هذا الأمر سيدخل:
- إداري واحد
- 2 دكاترة
- 3 طلاب
- مقررات تجريبية
- تسجيلات ودرجات تجريبية

## بيانات تسجيل الدخول

**ملاحظة مهمة**: كلمات المرور في `seed_data.sql` هي تجريبية. في بيئة الإنتاج، يجب:
1. استخدام خوارزمية تشفير أقوى (bcrypt أو Argon2)
2. تغيير جميع كلمات المرور الافتراضية
3. إضافة سياسات أمان أقوى

### بيانات تجريبية

#### طالب
- الرقم الجامعي: `UT241150`
- كلمة المرور: `student123`

#### إداري
- البريد: `admin@nctu.edu.eg`
- كلمة المرور: `admin123`

#### دكتور
- البريد: `ahmed.mohamed@nctu.edu.eg`
- كلمة المرور: `doctor123`

## هيكل قاعدة البيانات

### الجداول الرئيسية

- **students**: بيانات الطلاب
- **courses**: المقررات الدراسية
- **enrollments**: تسجيلات الطلاب في المقررات
- **grades**: درجات الطلاب
- **attendance**: سجلات الحضور
- **payments**: المدفوعات والرسوم
- **doctors**: أعضاء هيئة التدريس
- **admins**: المستخدمون الإداريون
- **news**: الأخبار والإعلانات
- **exams**: جدولة الامتحانات
- **exam_results**: نتائج الامتحانات
- **pmd_records**: سجلات PMD (Pass/Medical/Delayed)

## النسخ الاحتياطي

```bash
# تصدير قاعدة البيانات
mysqldump -u root -p nctu_sis > backup_$(date +%Y%m%d).sql

# استيراد نسخة احتياطية
mysql -u root -p nctu_sis < backup_20240101.sql
```

## الصيانة

- قم بعمل نسخ احتياطية دورية
- راقب حجم قاعدة البيانات
- قم بتحسين الفهارس حسب الحاجة
- راجع سجلات الأخطاء بانتظام

